import{_ as c,m as _,a as m,o as l,c as a,b as t,F as g,r as u,t as d,w as h,d as v,v as p,e as f,n as b}from"./index-58808999.js";import{_ as k,a as y}from"./remove-c812daa3.js";import{_ as x}from"./doctors-7260acf5.js";const P={data(){return{toggle:!1,editToggle:!1,position:{}}},methods:{..._(["addPosition","getAllPositions","deletePosition","getPosition","updatePosition"]),add(){this.position.title?(this.addPosition(this.position),this.clear()):this.$store.commit("setNotif",{type:"warning",text:"Lavozim nomini kiriting"})},clear(){this.toggle=!1,this.position={},this.editToggle=!1},async edit(n){let i=await this.getPosition(n);(i==null?void 0:i.status)==200&&(this.toggle=!0,this.editToggle=!0,this.position={...i.data})},save(){this.updatePosition(this.position),this.clear()},remove(n){confirm("Qaroringiz qat'iymi?")&&this.deletePosition(n)}},computed:{...m(["positions"])},mounted(){this.getAllPositions()}},C={class:"box"},T=t("div",{class:"d-flex justify-content-between align-items-center"},[t("div",{class:"title"},"Lavozimlar")],-1),w={class:"table"},z=t("thead",null,[t("tr",null,[t("th",null,"Nomi"),t("th",null,"Yaratilgan vaqt"),t("th")])],-1),q={align:"right"},B=["onClick"],L=t("img",{src:k},null,-1),A=[L],K=["onClick"],M=t("img",{src:y},null,-1),N=[M],S=t("img",{src:x,alt:""},null,-1),D=[S],F={class:"modal__box"},V={class:"text-center mb-20"},Y={class:"col-12 col-sm-12 mb-20"},j={class:"modal__footer"};function E(n,i,G,Q,o,e){return l(),a("section",null,[t("div",C,[T,t("table",w,[z,t("tbody",null,[(l(!0),a(g,null,u(n.positions,(s,U)=>(l(),a("tr",{key:s._id},[t("td",null,d(s.title),1),t("td",null,d(s.createdTime),1),t("td",q,[t("button",{onClick:r=>e.edit(s._id)},A,8,B),t("button",{onClick:r=>e.remove(s._id)},N,8,K)])]))),128))])])]),t("button",{class:"add",onClick:i[0]||(i[0]=s=>o.toggle=!0)},D),t("div",{class:b(` modal ${o.toggle?"open":""}`)},[t("div",F,[t("h4",V,d(o.editToggle?"Lavozini tahrirlash":"Yangi lavozim qo'shish"),1),t("form",{id:"depart",onSubmit:i[3]||(i[3]=h(s=>o.editToggle?e.save():e.add(),["prevent"]))},[t("div",Y,[v(t("input",{class:"input",type:"text",name:"title","onUpdate:modelValue":i[1]||(i[1]=s=>o.position.title=s),placeholder:"Mutaxassisslik nomini kiriting",onKeypress:i[2]||(i[2]=f(s=>o.editToggle?e.save():e.add(),["enter"]))},null,544),[[p,o.position.title]])])],32),t("div",j,[t("button",{class:"btn danger",onClick:i[4]||(i[4]=(...s)=>e.clear&&e.clear(...s))},"Bekor qilish"),o.editToggle?(l(),a("button",{key:1,class:"btn success hide btn__edit",onClick:i[6]||(i[6]=s=>e.save())}," Saqlash ")):(l(),a("button",{key:0,class:"btn success btn__add",onClick:i[5]||(i[5]=(...s)=>e.add&&e.add(...s))}," Kiritish "))])])],2)])}const O=c(P,[["render",E]]);export{O as default};
