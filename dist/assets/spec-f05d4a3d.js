import{_,m as u,a as m,o as n,c as a,b as t,F as g,r as h,t as d,w as r,d as p,v,e as f,n as b}from"./index-58808999.js";import{_ as k,a as x}from"./remove-c812daa3.js";import{_ as S}from"./doctors-7260acf5.js";const y={data(){return{toggle:!1,editToggle:!1,spec:{}}},methods:{...u(["addSpec","getAllSpecs","deleteSpec","getSpec","updateSpec"]),add(){this.spec.title?(this.addSpec(this.spec),this.clear()):this.$store.commit("setNotif",{type:"warning",text:"Mutaxassisslik nomini kiriting"})},clear(){this.toggle=!1,this.spec={},this.editToggle=!1},async edit(o){let e=await this.getSpec(o);(e==null?void 0:e.status)==200&&(this.toggle=!0,this.editToggle=!0,this.spec={...e.data})},save(){this.updateSpec(this.spec),this.clear()},remove(o){confirm("Qaroringiz qat'iymi?")&&this.deleteSpec(o)}},computed:{...m(["specs"])},mounted(){this.getAllSpecs()}},C={class:"box"},T=t("div",{class:"d-flex justify-content-between align-items-center"},[t("div",{class:"title"},"Mutaxassissliklar")],-1),w={class:"table"},M=t("thead",null,[t("tr",null,[t("th",null,"Nomi"),t("th",null,"Yaratilgan vaqt"),t("th")])],-1),q={align:"right"},B=["onClick"],A=t("img",{src:k},null,-1),K=[A],N=["onClick"],z=t("img",{src:x},null,-1),D=[z],F=t("img",{src:S,alt:""},null,-1),V=[F],Y={class:"modal__box"},j={class:"text-center mb-20"},E={class:"col-12 col-sm-12 mb-20"},G={class:"modal__footer"};function L(o,e,Q,U,l,i){return n(),a("section",null,[t("div",C,[T,t("table",w,[M,t("tbody",null,[(n(!0),a(g,null,h(o.specs,(s,H)=>(n(),a("tr",{key:s._id},[t("td",null,d(s.title),1),t("td",null,d(s.createdTime),1),t("td",q,[t("button",{onClick:r(c=>i.edit(s._id),["stop"])},K,8,B),t("button",{onClick:r(c=>i.remove(s._id),["stop"])},D,8,N)])]))),128))])])]),t("button",{class:"add",onClick:e[0]||(e[0]=s=>l.toggle=!0)},V),t("div",{class:b(` modal ${l.toggle?"open":""}`)},[t("div",Y,[t("h4",j,d(l.editToggle?"Mutaxassisslikni tahrirlash":"Yangi mutaxassisslik qo'shish"),1),t("form",{id:"depart",onSubmit:e[3]||(e[3]=r(s=>l.editToggle?i.save():i.add(),["prevent"]))},[t("div",E,[p(t("input",{class:"input",type:"text",name:"title","onUpdate:modelValue":e[1]||(e[1]=s=>l.spec.title=s),placeholder:"Mutaxassisslik nomini kiriting",onKeypress:e[2]||(e[2]=f(s=>l.editToggle?i.save():i.add(),["enter"]))},null,544),[[v,l.spec.title]])])],32),t("div",G,[t("button",{class:"btn danger",onClick:e[4]||(e[4]=(...s)=>i.clear&&i.clear(...s))},"Bekor qilish"),l.editToggle?(n(),a("button",{key:1,class:"btn success hide btn__edit",onClick:e[6]||(e[6]=s=>i.save())}," Saqlash ")):(n(),a("button",{key:0,class:"btn success btn__add",onClick:e[5]||(e[5]=(...s)=>i.add&&i.add(...s))}," Kiritish "))])])],2)])}const P=_(y,[["render",L]]);export{P as default};
