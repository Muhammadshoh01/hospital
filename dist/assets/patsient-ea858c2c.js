import{r as y,d as v}from"./places-6e1844b7.js";import{_ as f,a as H,m as u,o as d,c as _,b as t,t as n,j as b,F as r,r as m,w as p,d as c,v as h,f as k,n as T,p as P,l as w}from"./index-58808999.js";import{_ as L,a as x}from"./remove-c812daa3.js";const A={data(){return{regions:y,districts:v,patsient:{},patsientHistory:{doctor:""},familyList:[{id:1,title:"Uylangan/Turmushga chiqqan"},{id:2,title:"Uylanmagan/Turmushga chiqmagan"}],educationList:[{id:1,title:"Maktabni bitirgan"},{id:2,title:"O'rta Maxsus"},{id:3,title:"Oliy"}],workTimeList:[{id:1,name:"Yarim stavka"},{id:2,name:"Asosiy shtat"},{id:3,name:"O`rindosh"}],employmentList:[{id:1,name:"Ishlaydi"},{id:2,name:"Ishlamaydi"}],bloodList:[{id:1,name:"A"},{id:2,name:"B"},{id:3,name:"AB"},{id:4,name:"O"}],privilegeList:[{id:1,name:"Order sohibi"},{id:2,name:"Pensioner"},{id:3,name:"Kam taminlangan"},{id:4,name:"Imtiyozi yo`q"}],invalidList:[{id:1,name:"1-guruh nogironi"},{id:2,name:"2-guruh nogironi"},{id:3,name:"3-guruh nogironi"},{id:4,name:"Invalid emas"}],factorList:[{id:1,name:"+"},{id:2,name:"-"}]}},computed:{...H(["specs","positions","departments","doctorHistorys","patsientHistorys","doctors","patsientHistoryToggle","patsientEditHistoryToggle"])},methods:{...u(["getPatsient"]),...u(["getAllSpecs","getAllDepartments","getAllPositions","getAllPatsientHistorys","getAllDoctors","addPatsientHistory","updatePatsientHistory","deletePatsientHistory","getPatsientHistory"]),postPatsientHistory(){this.patsientHistory.date&&this.patsientHistory.diagnosType&&this.patsientHistory.doctor&&this.patsientHistory.diagnos?(this.addPatsientHistory({...this.patsientHistory,patsient:this.$route.params.id}),this.clear()):this.$store.commit("setNotif",{type:"warning",text:"Barcha maydonlarni to'ldiring"})},async edit(o){let s=await this.getPatsientHistory(o);(s==null?void 0:s.status)==200&&(this.$store.commit("setPatsientHistoryToggle",!0),this.$store.commit("setPatsientEditHistoryToggle",!0),this.patsientHistory=s.data)},save(){this.updatePatsientHistory({...this.patsientHistory,patsient:this.$route.params.id}),this.clear()},remove(o){confirm("Qaroringiz qat'iymi?")&&this.deletePatsientHistory(o)},openModal(){this.$store.commit("setPatsientHistoryToggle",!0)},clear(){this.$store.commit("setPatsientHistoryToggle",!1),this.$store.commit("setPatsientEditHistoryToggle",!1),this.patsientHistory={doctor:""}}},async mounted(){await this.getAllPatsientHistorys(this.$route.params.id),await this.getAllSpecs(),await this.getAllDepartments(),await this.getAllPositions(),await this.getAllDoctors();let o=await this.getPatsient(this.$route.params.id);o.status==200&&(this.patsient={...o.data},this.departments.forEach(s=>{s._id==this.patsient.department&&(this.patsient.department=s.title)}),this.doctors.forEach(s=>{s._id==this.patsient.doctor&&(this.patsient.doctor=s.name)}),this.patsient.married=this.familyList[this.patsient.married-1].title,this.patsient.employment=this.employmentList[this.patsient.employment-1].name,this.patsient.bloodtype=this.bloodList[this.patsient.bloodtype-1].name,this.patsient.privilege=this.privilegeList[this.patsient.privilege-1].name,this.patsient.invalid=this.invalidList[this.patsient.invalid-1].name,this.patsient.factor=this.factorList[this.patsient.factor-1].name,this.patsient.education=this.educationList[this.patsient.education-1].title,this.regions.forEach(s=>{s.id==this.patsient.region&&(this.patsient.region=s.name)}),this.districts.forEach(s=>{s.id==this.patsient.district&&(this.patsient.district=s.name)}))}},e=o=>(P("data-v-0f026cc9"),o=o(),w(),o),S={class:"patsient"},D={class:"patsient__head"},I=["src"],z={class:"patsient__data"},E={class:"patsient__name"},B={class:"patsient__param"},M={class:"patsient__cat"},q=e(()=>t("h4",null,"Tashrif sanasi",-1)),C={class:"patsient__cat"},O=e(()=>t("h4",null,"Davolangan bo’lim",-1)),V={class:"patsient__cat"},K=e(()=>t("h4",null,"Ma'sul shifokor",-1)),U={class:"patsient__cat"},j=e(()=>t("h4",null,"Sabab",-1)),N=e(()=>t("div",{class:"patsient__edit"},null,-1)),Y={class:"patsient__personal"},F=e(()=>t("div",{class:"patsient__minititle"},"Shaxsiy ma’lumotlar",-1)),Q={class:"patsient__datas"},G={class:"patsient__cat"},R=e(()=>t("h4",null,"Tug’ilgan sanasi",-1)),J={class:"patsient__cat"},W=e(()=>t("h4",null,"Oilaviy holat",-1)),X={class:"patsient__cat"},Z=e(()=>t("h4",null,"Telefon raqam",-1)),$={class:"patsient__cat"},tt=e(()=>t("h4",null,"Tug’ilgan hudud",-1)),st={class:"patsient__cat"},it=e(()=>t("h4",null,"Tug’ilgan tuman",-1)),et={class:"patsient__cat"},nt=e(()=>t("h4",null,"Ma’lumoti",-1)),at={class:"patsient__cat"},ot=e(()=>t("h4",null,"Oila a'zolaridan telefon raqam",-1)),lt={class:"patsient__cat"},dt=e(()=>t("h4",null,"Bandlik holati",-1)),_t={class:"patsient__cat"},ct=e(()=>t("h4",null,"Ish joyi",-1)),rt={class:"patsient__personal border"},pt=e(()=>t("div",{class:"patsient__minititle"},"Tibbiy ma’lumotlar",-1)),ht={class:"patsient__datas"},ut={class:"patsient__cat"},mt=e(()=>t("h4",null,"Qon guruhi",-1)),gt={class:"patsient__cat"},yt=e(()=>t("h4",null,"Imtiyoz kategoriyasi",-1)),vt={class:"patsient__cat"},ft=e(()=>t("h4",null,"Invalidlik",-1)),Ht={class:"patsient__cat"},bt=e(()=>t("h4",null,"RH faktor",-1)),kt={class:"patsient__cat"},Tt=e(()=>t("h4",null,"Imtiyoz hujjati",-1)),Pt={class:"patsient__cat"},wt=e(()=>t("h4",null,"Vazni",-1)),Lt={class:"patsient__cat"},xt=e(()=>t("h4",null,"Sug’urta polisi",-1)),At={class:"patsient__cat"},St=e(()=>t("h4",null,"Imtiyoz olingan sana",-1)),Dt={class:"patsient__cat"},It=e(()=>t("h4",null,"Bo'yi",-1)),zt={class:"patsient__cat"},Et=e(()=>t("h4",null,"Sug'urta firmasi",-1)),Bt={class:"patsient__cat"},Mt=e(()=>t("h4",null,"Allergik reaksiyalar",-1)),qt={class:"box"},Ct={class:"d-flex justify-content-between align-items-center"},Ot=e(()=>t("div",{class:"title"},"Kasallik tarixi",-1)),Vt=e(()=>t("span",null,"+",-1)),Kt={class:"table"},Ut=e(()=>t("thead",null,[t("tr",null,[t("th",null,"Davolanish sanasi"),t("th",null,"Kasallik turi"),t("th",null,"Diagnoz"),t("th",null,"Shifokor"),t("th")])],-1)),jt=["onClick"],Nt=e(()=>t("img",{src:L},null,-1)),Yt=[Nt],Ft=["onClick"],Qt=e(()=>t("img",{src:x},null,-1)),Gt=[Qt],Rt={class:"modal__box"},Jt={class:"text-center mb-20"},Wt=e(()=>t("div",{class:"part mt-10 mb-10 text-center"},"Kasallik tarixi",-1)),Xt={class:"row step-1"},Zt={class:"col-6 col-sm-12 mb-20"},$t={class:"col-6 col-sm-12 mb-20"},ts=e(()=>t("option",{value:""},"Shifokor ism sharifi",-1)),ss=["value"],is={class:"col-12 col-sm-12 mb-20"},es={class:"col-12 col-sm-12 mb-20"},ns={class:"modal__footer"};function as(o,s,os,ls,i,l){return d(),_(r,null,[t("div",S,[t("div",D,[t("div",null,[t("img",{src:`http://95.130.227.52:3112/${i.patsient.avatar}`},null,8,I)]),t("div",z,[t("div",E,n(i.patsient.name),1),t("div",B,[t("div",M,[q,t("p",null,n(i.patsient.arriveDate),1)]),t("div",C,[O,t("p",null,n(i.patsient.department),1)]),t("div",V,[K,t("p",null,n(i.patsient.doctor),1)]),t("div",U,[j,t("p",null,n(i.patsient.diagnos),1)])]),N])]),t("div",Y,[F,t("div",Q,[t("div",G,[R,t("p",null,n(i.patsient.birthday),1)]),t("div",J,[W,t("p",null,n(i.patsient.married),1)]),t("div",X,[Z,t("p",null,n(i.patsient.phone),1)]),t("div",$,[tt,t("p",null,n(i.patsient.region),1)]),t("div",st,[it,t("p",null,n(i.patsient.district),1)]),t("div",et,[nt,t("p",null,n(i.patsient.education),1)]),t("div",at,[ot,t("p",null,n(i.patsient.familyphone),1)]),t("div",lt,[dt,t("p",null,n(i.patsient.employment),1)]),t("div",_t,[ct,t("p",null,n(i.patsient.workplace),1)])])]),t("div",rt,[pt,t("div",ht,[t("div",ut,[mt,t("p",null,n(i.patsient.bloodtype),1)]),t("div",gt,[yt,t("p",null,n(i.patsient.privilege),1)]),t("div",vt,[ft,t("p",null,n(i.patsient.invalid),1)]),t("div",Ht,[bt,t("p",null,n(i.patsient.factor),1)]),t("div",kt,[Tt,t("p",null,n(i.patsient.privilegeDoc),1)]),t("div",Pt,[wt,t("p",null,n(i.patsient.weight)+" kg",1)]),t("div",Lt,[xt,t("p",null,n(i.patsient.policy),1)]),t("div",At,[St,t("p",null,n(i.patsient.privilegeDate),1)]),t("div",Dt,[It,t("p",null,n(i.patsient.height)+" sm",1)]),t("div",zt,[Et,t("p",null,n(i.patsient.policecompany),1)]),t("div",Bt,[Mt,t("p",null,n(i.patsient.reactions),1)])])])]),t("div",qt,[t("div",Ct,[Ot,t("button",{class:"patsient__work",onClick:s[0]||(s[0]=(...a)=>l.openModal&&l.openModal(...a))},[Vt,b(" Yangi kasallik tarixi ")])]),t("table",Kt,[Ut,t("tbody",null,[(d(!0),_(r,null,m(o.patsientHistorys,(a,ds)=>(d(),_("tr",{key:a._id},[t("td",null,n(a.date),1),t("td",null,n(a.diagnosType),1),t("td",null,n(a.diagnos),1),t("td",null,n(a.doctor),1),t("td",null,[t("button",{onClick:p(g=>l.edit(a._id),["stop"])},Yt,8,jt),t("button",{onClick:p(g=>l.remove(a._id),["stop"])},Gt,8,Ft)])]))),128))])])]),t("div",{class:T(` modal ${o.patsientHistoryToggle?"open":""}`)},[t("div",Rt,[t("h4",Jt,n(o.patsientEditHistoryToggle?"Bemorni ma'lumotlarini tahrirlash":"Yangi bemorni ro’yhatdan o’tkazish"),1),t("form",{onSubmit:s[5]||(s[5]=p(a=>o.patsientEditHistoryToggle?l.save():l.postPatsientHistory(),["prevent"]))},[t("div",null,[Wt,t("section",Xt,[t("div",Zt,[c(t("input",{class:"input",type:"text",placeholder:"Davolanish sanasi",onfocus:"this.type='date'","onUpdate:modelValue":s[1]||(s[1]=a=>i.patsientHistory.date=a)},null,512),[[h,i.patsientHistory.date]])]),t("div",$t,[c(t("select",{class:"input","onUpdate:modelValue":s[2]||(s[2]=a=>i.patsientHistory.doctor=a),placeholder:"Lavozimni tanlang"},[ts,(d(!0),_(r,null,m(o.doctors,a=>(d(),_("option",{key:a._id,value:a._id},n(a.name),9,ss))),128))],512),[[k,i.patsientHistory.doctor]])]),t("div",is,[c(t("input",{class:"input",type:"text",placeholder:"Kasallik turi","onUpdate:modelValue":s[3]||(s[3]=a=>i.patsientHistory.diagnosType=a)},null,512),[[h,i.patsientHistory.diagnosType]])]),t("div",es,[c(t("textarea",{class:"input",placeholder:"Diagnos",rows:"10","onUpdate:modelValue":s[4]||(s[4]=a=>i.patsientHistory.diagnos=a)},null,512),[[h,i.patsientHistory.diagnos]])])])])],32),t("div",ns,[t("button",{class:"btn danger",onClick:s[6]||(s[6]=(...a)=>l.clear&&l.clear(...a))},"Bekor qilish"),o.patsientEditHistoryToggle?(d(),_("button",{key:1,class:"btn success hide btn__edit",onClick:s[8]||(s[8]=a=>l.save())}," Saqlash ")):(d(),_("button",{key:0,class:"btn success btn__add",onClick:s[7]||(s[7]=(...a)=>l.postPatsientHistory&&l.postPatsientHistory(...a))}," Kiritish "))])])],2)],64)}const ps=f(A,[["render",as],["__scopeId","data-v-0f026cc9"]]);export{ps as default};
