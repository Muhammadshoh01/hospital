import{_ as p,m as v,a as b,o as i,c as n,b as t,F as c,r as g,t as a,w as m,d,v as _,e as u,f,n as k}from"./index-58808999.js";import{_ as R,a as y}from"./remove-c812daa3.js";import{_ as x}from"./doctors-7260acf5.js";const T={data(){return{toggle:!1,editToggle:!1,room:{department:""}}},methods:{...v(["addRoom","getAllRooms","deleteRoom","getRoom","updateRoom","getAllDepartments"]),postRoom(){this.room.number&&this.room.maxcount&&this.room.department?(this.addRoom(this.room),this.clear()):this.$store.commit("setNotif",{type:"warning",text:"Bo`lim nomini kiriting"})},clear(){this.toggle=!1,this.editToggle=!1,this.room={department:""}},async edit(r){let e=await this.getRoom(r);(e==null?void 0:e.status)==200&&(console.log(e.data),this.toggle=!0,this.editToggle=!0,this.room={...e.data})},remove(r){confirm("Qaroringiz qat'iymi?")&&this.deleteRoom(r)},save(){this.updateRoom(this.room),this.clear()}},computed:{...b(["rooms","departments"])},mounted(){this.getAllRooms(),this.getAllDepartments()}},C={class:"box"},w=t("div",{class:"d-flex justify-content-between align-items-center"},[t("div",{class:"title"},"Xonalar")],-1),q={class:"table"},B=t("thead",null,[t("tr",null,[t("th",null,"Xona raqami"),t("th",null,"Bo'lim"),t("th",null,"Sig'imi"),t("th",null,"Yaratilgan vaqt"),t("th")])],-1),A={align:"right"},K=["onClick"],S=t("img",{src:R},null,-1),X=[S],D=["onClick"],V=t("img",{src:y},null,-1),M=[V],U=t("img",{src:x,alt:""},null,-1),z=[U],F={class:"modal__box"},N={class:"text-center mb-20"},Y={class:"col-6 col-sm-12 mb-20"},j={class:"col-6 col-sm-12 mb-20"},E={class:"col-6 col-sm-12 mb-20"},G=t("option",{value:""},"Ro'yxatdan tanlang",-1),L=["value"],Q={class:"modal__footer"};function H(r,e,I,J,l,s){return i(),n("section",null,[t("div",C,[w,t("table",q,[B,t("tbody",null,[(i(!0),n(c,null,g(r.rooms,(o,O)=>(i(),n("tr",{key:o._id},[t("td",null,a(o.number),1),t("td",null,a(o.department),1),t("td",null,a(o.maxcount),1),t("td",null,a(o.createdTime),1),t("td",A,[t("button",{onClick:m(h=>s.edit(o._id),["stop"])},X,8,K),t("button",{onClick:m(h=>s.remove(o._id),["stop"])},M,8,D)])]))),128))])])]),t("button",{class:"add",onClick:e[0]||(e[0]=o=>l.toggle=!0)},z),t("div",{class:k(` modal ${l.toggle?"open":""}`)},[t("div",F,[t("h4",N,a(l.editToggle?"Xonani tahrirlash":"Yangi xona qo'shish"),1),t("form",{class:"row",onSubmit:e[7]||(e[7]=m(o=>l.editToggle?s.save():s.postRoom(),["prevent"]))},[t("div",Y,[d(t("input",{class:"input",type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>l.room.number=o),placeholder:"Xona raqamini kiriting",onKeypress:e[2]||(e[2]=u(o=>l.editToggle?s.save():s.postRoom(),["enter"]))},null,544),[[_,l.room.number]])]),t("div",j,[d(t("input",{class:"input",type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>l.room.maxcount=o),placeholder:"Xona sig'imini kiriting",onKeypress:e[4]||(e[4]=u(o=>l.editToggle?s.save():s.postRoom(),["enter"]))},null,544),[[_,l.room.maxcount]])]),t("div",E,[d(t("select",{class:"input","onUpdate:modelValue":e[5]||(e[5]=o=>l.room.department=o),onKeypress:e[6]||(e[6]=u(o=>l.editToggle?s.save():s.postRoom(),["enter"]))},[G,(i(!0),n(c,null,g(r.departments,o=>(i(),n("option",{key:o._id,value:o._id},a(o.title),9,L))),128))],544),[[f,l.room.department]])])],32),t("div",Q,[t("button",{class:"btn danger",onClick:e[8]||(e[8]=(...o)=>s.clear&&s.clear(...o))},"Bekor qilish"),l.editToggle?(i(),n("button",{key:1,class:"btn success hide btn__edit",onClick:e[10]||(e[10]=o=>s.save())}," Saqlash ")):(i(),n("button",{key:0,class:"btn success btn__add",onClick:e[9]||(e[9]=(...o)=>s.postRoom&&s.postRoom(...o))}," Kiritish "))])])],2)])}const $=p(T,[["render",H]]);export{$ as default};
